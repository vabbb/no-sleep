{% macro add_starred(conn, services) %}
<li onclick="activate(this, '{{ conn['_id'] }}')" class="list-group-item">
  <div class="container">
    <div class="row">
      <div class="col">
        <i class="fas fa-heart align-middle"></i>
      </div>
      <div class="col-9">
        <div class="row font-weight-bold">
          {% if services[conn['endpoints'][0][1]] %}
          {{ services[conn['endpoints'][0][1]] }}
          {% elif services[conn['endpoints'][1][1]] %}
          {{ services[conn['endpoints'][1][1]] }}
          {% else %}
          unknown
          {% endif %}
        </div>
        <div class="row">
          {{ conn['lastSeen'] | int_to_time }}
          <!-- TODO: convert to time -->
        </div>
      </div>
    </div>
  </div>
</li>
{% endmacro %}

{% for flow in starred %}
{{ add_starred(flow, services_map) }}
{% endfor %}